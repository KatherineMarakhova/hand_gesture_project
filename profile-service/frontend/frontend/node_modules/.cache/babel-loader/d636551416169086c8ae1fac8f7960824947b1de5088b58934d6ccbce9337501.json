{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nfunction Home() {\n  _s();\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  const isAuthenticated = !!localStorage.getItem('access_token');\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/auth/api/user/', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`\n          }\n        });\n        setUser(response.data);\n      } catch (error) {\n        navigate('/login');\n      }\n    };\n    fetchUser();\n  }, [navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    navigate('/login');\n  };\n\n  // return (\n  //   <Navbar bg=\"dark\" data-bs-theme=\"dark\">\n  //     <Container>\n  //       <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n  //       <Nav className=\"me-auto\">\n  //         <Nav.Link href=\"#home\">Home</Nav.Link>\n  //         <Nav.Link href=\"#features\">Features</Nav.Link>\n  //         <Nav.Link href=\"#pricing\">Pricing</Nav.Link>\n  //       </Nav>\n  //     </Container>\n  //   </Navbar>\n  // );\n\n  // return (\n  //   <div className=\"container mt-5\">\n  //     {isAuthenticated && <Navbar />}\n  //     <h2>Home</h2>\n  //     {user ? (\n  //       <div>\n  //         <p>Username: {user.username}</p>\n  //         <p>Email: {user.email}</p>\n  //         <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\n  //       </div>\n  //     ) : (\n  //       <p>Loading...</p>\n  //     )}\n  //   </div>\n\n  // );\n}\n_s(Home, \"/48TlfV0adSMEvsbW2gk5sMeopI=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","Container","Nav","Navbar","Home","_s","user","setUser","navigate","isAuthenticated","localStorage","getItem","fetchUser","response","get","headers","Authorization","data","error","handleLogout","removeItem","_c","$RefreshReg$"],"sources":["/Users/kropinovp/VScode/example/frontend/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\n\n\nfunction Home() {\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  const isAuthenticated = !!localStorage.getItem('access_token');\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/auth/api/user/', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        });\n        setUser(response.data);\n      } catch (error) {\n        navigate('/login');\n      }\n    };\n    fetchUser();\n  }, [navigate]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    navigate('/login');\n  };\n\n  \n  // return (\n  //   <Navbar bg=\"dark\" data-bs-theme=\"dark\">\n  //     <Container>\n  //       <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n  //       <Nav className=\"me-auto\">\n  //         <Nav.Link href=\"#home\">Home</Nav.Link>\n  //         <Nav.Link href=\"#features\">Features</Nav.Link>\n  //         <Nav.Link href=\"#pricing\">Pricing</Nav.Link>\n  //       </Nav>\n  //     </Container>\n  //   </Navbar>\n  // );\n  \n\n  // return (\n  //   <div className=\"container mt-5\">\n  //     {isAuthenticated && <Navbar />}\n  //     <h2>Home</h2>\n  //     {user ? (\n  //       <div>\n  //         <p>Username: {user.username}</p>\n  //         <p>Email: {user.email}</p>\n  //         <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\n  //       </div>\n  //     ) : (\n  //       <p>Loading...</p>\n  //     )}\n  //   </div>\n    \n  // );\n\n}\n\nexport default Home;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,GAAG,MAAM,qBAAqB;AACrC,OAAOC,MAAM,MAAM,wBAAwB;AAG3C,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,eAAe,GAAG,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAE9Dd,SAAS,CAAC,MAAM;IACd,MAAMe,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,sCAAsC,EAAE;UACvEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUN,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;UAC/D;QACF,CAAC,CAAC;QACFJ,OAAO,CAACM,QAAQ,CAACI,IAAI,CAAC;MACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdV,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC;IACDI,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,MAAMW,YAAY,GAAGA,CAAA,KAAM;IACzBT,YAAY,CAACU,UAAU,CAAC,cAAc,CAAC;IACvCV,YAAY,CAACU,UAAU,CAAC,eAAe,CAAC;IACxCZ,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;;EAGD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;AAEF;AAACH,EAAA,CA3DQD,IAAI;EAAA,QAEMJ,WAAW;AAAA;AAAAqB,EAAA,GAFrBjB,IAAI;AA6Db,eAAeA,IAAI;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}